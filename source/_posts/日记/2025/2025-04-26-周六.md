---
title: 2025-04-26-星期六
date: 2025-04-26 02:01:16
updated: 2025-04-26 02:01:16
author: Exarlos 艾克萨罗斯
email: 452361419@qq.com
description: 世界上没有低级的法术,只有低级的法师!
keywords: 日记
categories:
  - 日记
tags:
  - 日记
cover:
thumbnail:
password: 747937
message: 请输入密码访问
abstract: 这篇文章受到了保护。
wrong_pass_message: 密码错误，请重试。
---

<!-- 在此处添加文章摘要 -->
{% note info %}
**文章摘要**
{% endnote %}

<!-- more -->

# 2025-04-26-星期六 #日记

## 今日计划

## 工作事项

- [ ] 

<!-- 以下内容仅在Obsidian中显示，在Hexo中会被忽略 -->
<!-- 代码块已折叠，编辑时点击展开 -->
```dataviewjs
// Get current filename
const currentFilename = dv.current().file.name;

// Extract date from filename (assuming format YYYY-MM-DD-周X.md)
const dateMatch = currentFilename.match(/^(\d{4}-\d{2}-\d{2})/);

let currentMoment;
if (dateMatch && dateMatch[1]) {
    currentMoment = moment(dateMatch[1], "YYYY-MM-DD");
} else {
    // Fallback or error handling if filename doesn't match
    const fileDay = dv.current().file.day;
    if (fileDay && moment(fileDay.toFormat("YYYY-MM-DD")).isValid()) {
        currentMoment = moment(fileDay.toFormat("YYYY-MM-DD"));
    } else {
        dv.paragraph("⚠️ 无法获取有效当前日期，无法计算昨日事项。");
        // Stop execution if no valid date is found
        return;
    }
}

// Ensure currentMoment is valid before proceeding
if (!currentMoment || !currentMoment.isValid()) {
    dv.paragraph("⚠️ 无效的当前日期，无法计算昨日事项。");
    return;
}

// Calculate yesterday's date - Clone the moment object to avoid modifying the original
const yesterdayMoment = currentMoment.clone().subtract(1, 'days');

// Format yesterday's date string (e.g., "2025-04-21")
const yesterdayDateStr = yesterdayMoment.format("YYYY-MM-DD");

// Map day numbers to Chinese day names (0 = Sunday, 1 = Monday, etc.)
const dayMap = ["周日", "周一", "周二", "周三", "周四", "周五", "周六"];
const yesterdayDayName = dayMap[yesterdayMoment.day()]; // Get Chinese day name using day() which returns 0-6

// Construct the expected filename for yesterday's diary
const yesterdayFileName = `${yesterdayDateStr}-${yesterdayDayName}.md`;

// Construct the folder path for yesterday's diary based on the year
const yesterdayYear = yesterdayMoment.format("YYYY");
const yesterdayFolderPath = `source/_posts/日记/${yesterdayYear}`;

// 调试信息
dv.paragraph(`🔍 正在查找昨日日记: ${yesterdayDateStr}-${yesterdayDayName}`);

// 使用更灵活的查询方式
let allDiaryPages = dv.pages()
    .where(p => p.file.path.includes('/日记/') &&
           p.file.name.startsWith(yesterdayDateStr));

// 显示找到的文件数量
dv.paragraph(`📋 找到 ${allDiaryPages.length} 个可能的文件`);

// 查找昨天的日记文件
let yesterdayFile = null;

if (allDiaryPages.length > 0) {
    // 显示找到的所有文件
    for (let i = 0; i < allDiaryPages.length; i++) {
        dv.paragraph(`- 文件 ${i+1}: ${allDiaryPages[i].file.name} (路径: ${allDiaryPages[i].file.path})`);
    }

    // 尝试精确匹配
    const exactMatch = allDiaryPages.find(p => p.file.name === yesterdayFileName.replace('.md', ''));
    if (exactMatch) {
        yesterdayFile = exactMatch.file;
        dv.paragraph(`✅ 找到精确匹配: ${yesterdayFile.name}`);
    } else {
        // 如果没有精确匹配，使用第一个以昨天日期开头的文件
        yesterdayFile = allDiaryPages[0].file;
        dv.paragraph(`⚠️ 未找到精确匹配，使用最接近的文件: ${yesterdayFile.name}`);
    }
}

if (yesterdayFile) {
    try {
        // 读取文件内容
        const content = await dv.io.load(yesterdayFile.path);
        const lines = content.split('\n');
        let inTaskSection = false;
        const unfinishedTasks = [];

        // 查找未完成的任务
        for (const line of lines) {
            if (line.trim().startsWith('## 工作事项')) {
                inTaskSection = true;
                continue;
            }
            // 如果遇到下一个二级标题或文件结束标记，停止读取
            if (inTaskSection && (line.trim().startsWith('## ') || line.trim().startsWith('---') || line.trim().startsWith('```dataview'))) {
                inTaskSection = false;
                break;
            }
            if (inTaskSection && line.trim().startsWith('- [ ]')) {
                // 只提取任务文本，不添加链接
                unfinishedTasks.push(line.trim());
            }
        }

        // 显示未完成的任务
        if (unfinishedTasks.length > 0) {
            // 添加标题和昨日日记的链接
            dv.header(4, `昨日未完成事项 (来自 [[${yesterdayFile.path}|${yesterdayDateStr}]]`);

            // 显示每个未完成的任务
            for(let task of unfinishedTasks) {
                dv.paragraph(task);
            }
        } else {
            dv.paragraph("✅ 昨日事项已全部完成。");
        }
    } catch (error) {
        dv.paragraph(`⚠️ 读取昨日日记文件时出错: ${error.message}`);
    }
} else {
    // 更详细的错误信息
    dv.paragraph(`ℹ️ 未找到昨日 (${yesterdayDateStr}-${yesterdayDayName}) 的日记文件。`);
    dv.paragraph(`预期路径: ${yesterdayFolderPath}/${yesterdayFileName}`);

    // 添加手动填写昨日未完成事项的部分
    dv.header(4, "手动添加昨日未完成事项");
    dv.paragraph("- [ ] 在此处手动添加昨日未完成的任务");
}
```
<!-- 在Hexo中显示的替代内容 -->
<div class="note info">
<p><strong>昨日未完成事项</strong></p>
<p>请查看昨日日记了解详情</p>
</div>



## 编程项目
- [ ] 

<!-- 以下内容仅在Obsidian中显示，在Hexo中会被忽略 -->
<!-- 代码块已折叠，编辑时点击展开 -->
```dataviewjs
// Get current filename
const currentFilename = dv.current().file.name;

// Extract date from filename (assuming format YYYY-MM-DD-周X.md)
const dateMatch = currentFilename.match(/^(\d{4}-\d{2}-\d{2})/);

let currentMoment;
if (dateMatch && dateMatch[1]) {
    currentMoment = moment(dateMatch[1], "YYYY-MM-DD");
} else {
    // Fallback or error handling if filename doesn't match
    const fileDay = dv.current().file.day;
    if (fileDay && moment(fileDay.toFormat("YYYY-MM-DD")).isValid()) {
        currentMoment = moment(fileDay.toFormat("YYYY-MM-DD"));
    } else {
        dv.paragraph("⚠️ 无法获取有效当前日期，无法计算昨日事项。");
        // Stop execution if no valid date is found
        return;
    }
}

// Ensure currentMoment is valid before proceeding
if (!currentMoment || !currentMoment.isValid()) {
    dv.paragraph("⚠️ 无效的当前日期，无法计算昨日事项。");
    return;
}

// Calculate yesterday's date - Clone the moment object to avoid modifying the original
const yesterdayMoment = currentMoment.clone().subtract(1, 'days');

// Format yesterday's date string (e.g., "2025-04-21")
const yesterdayDateStr = yesterdayMoment.format("YYYY-MM-DD");

// Map day numbers to Chinese day names (0 = Sunday, 1 = Monday, etc.)
const dayMap = ["周日", "周一", "周二", "周三", "周四", "周五", "周六"];
const yesterdayDayName = dayMap[yesterdayMoment.day()]; // Get Chinese day name using day() which returns 0-6

// Construct the expected filename for yesterday's diary
const yesterdayFileName = `${yesterdayDateStr}-${yesterdayDayName}.md`;

// Construct the folder path for yesterday's diary based on the year
const yesterdayYear = yesterdayMoment.format("YYYY");
const yesterdayFolderPath = `source/_posts/日记/${yesterdayYear}`;

// 调试信息
dv.paragraph(`🔍 正在查找昨日日记: ${yesterdayDateStr}-${yesterdayDayName}`);

// 使用更灵活的查询方式
let allDiaryPages = dv.pages()
    .where(p => p.file.path.includes('/日记/') &&
           p.file.name.startsWith(yesterdayDateStr));

// 显示找到的文件数量
dv.paragraph(`📋 找到 ${allDiaryPages.length} 个可能的文件`);

// 查找昨天的日记文件
let yesterdayFile = null;

if (allDiaryPages.length > 0) {
    // 显示找到的所有文件
    for (let i = 0; i < allDiaryPages.length; i++) {
        dv.paragraph(`- 文件 ${i+1}: ${allDiaryPages[i].file.name} (路径: ${allDiaryPages[i].file.path})`);
    }

    // 尝试精确匹配
    const exactMatch = allDiaryPages.find(p => p.file.name === yesterdayFileName.replace('.md', ''));
    if (exactMatch) {
        yesterdayFile = exactMatch.file;
        dv.paragraph(`✅ 找到精确匹配: ${yesterdayFile.name}`);
    } else {
        // 如果没有精确匹配，使用第一个以昨天日期开头的文件
        yesterdayFile = allDiaryPages[0].file;
        dv.paragraph(`⚠️ 未找到精确匹配，使用最接近的文件: ${yesterdayFile.name}`);
    }
}

if (yesterdayFile) {
    try {
        // 读取文件内容
        const content = await dv.io.load(yesterdayFile.path);
        const lines = content.split('\n');
        let inProgrammingSection = false;
        const unfinishedTasks = [];

        // 查找未完成的编程项目任务
        for (const line of lines) {
            if (line.trim().startsWith('## 编程项目')) {
                inProgrammingSection = true;
                continue;
            }
            // 如果遇到下一个二级标题或文件结束标记，停止读取
            if (inProgrammingSection && (line.trim().startsWith('## ') || line.trim().startsWith('---') || line.trim().startsWith('```dataview'))) {
                inProgrammingSection = false;
                break;
            }
            if (inProgrammingSection && line.trim().startsWith('- [ ]')) {
                // 只提取任务文本，不添加链接
                unfinishedTasks.push(line.trim());
            }
        }

        // 显示未完成的任务
        if (unfinishedTasks.length > 0) {
            // 添加标题和昨日日记的链接
            dv.header(4, `昨日未完成编程项目 (来自 [[${yesterdayFile.path}|${yesterdayDateStr}]]`);

            // 显示每个未完成的任务
            for(let task of unfinishedTasks) {
                dv.paragraph(task);
            }
        } else {
            dv.paragraph("✅ 昨日编程项目已全部完成。");
        }
    } catch (error) {
        dv.paragraph(`⚠️ 读取昨日日记文件时出错: ${error.message}`);
    }
} else {
    // 更详细的错误信息
    dv.paragraph(`ℹ️ 未找到昨日 (${yesterdayDateStr}-${yesterdayDayName}) 的日记文件。`);
    dv.paragraph(`预期路径: ${yesterdayFolderPath}/${yesterdayFileName}`);

    // 添加手动填写昨日未完成事项的部分
    dv.header(4, "手动添加昨日未完成编程项目");
    dv.paragraph("- [ ] 在此处手动添加昨日未完成的编程项目");
}
```
<!-- 在Hexo中显示的替代内容 -->
<div class="note info">
<p><strong>昨日未完成编程项目</strong></p>
<p>请查看昨日日记了解详情</p>
</div>

## 今日运动

- [ ] 跑步一小时
- [ ] 俯卧撑50个
- [ ] 引体向上30个
- [ ] 引体向上1分钟
- [ ] 卧推30个
- [ ] 深蹲2组
- [ ] 跳绳2000次

## 今日学习
- [ ] 学习英语
- [ ] 学习日语
- [ ] 学习编程
- [ ] 学习音乐
- [ ] 学习舞蹈

## 今日阅读和上网
- [ ] 阅读 
- [ ] youtube
- [ ] 

## 今日日语
- [ ] 单词300个
- [ ] 语法
- [ ] 阅读
- [ ] 听力
- [ ] 口语
- [ ] 翻译
- [ ] 写作
- [ ] 阅读
- [ ] 听力

## 今日总结

- [ ] 今天体重
- [ ] 今天睡眠
- [ ] 今天黄金
- [ ] 今天学习
- [ ] 今天阅读
- [ ] 今天上网
- [ ] 今天工作
- [ ] 今天运动

## 今日目标
- [ ] 完成今天的工作
- [ ] 完成今天的学习
- [ ] 完成今天的阅读
- [ ] 完成今天的运动
- [ ] 完成今天的总结
- [ ] 完成今天的目标

## 今日计划
- [ ] 完成今天的工作
- [ ] 完成今天的学习
- [ ] 完成今天的阅读


<!-- 以下内容仅在Obsidian中显示，在Hexo中会被忽略 -->
<!-- 月记和周记查询 (Obsidian Dataview) -->
<!--
```dataview
table file.name as "周记与月记", file.cday as "创建时间"
from "周记" or "月记"
where year = this.file.cday.year
where month = this.file.cday.month
sort ascending
```
-->
<!-- 在Hexo中显示的替代内容 -->
<!-- 请访问我的周记和月记分类查看更多内容 -->




---
> 本文由 Exarlos 创作，采用 [知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议](http://creativecommons.org/licenses/by-nc-sa/4.0/) 进行许可。

<!-- Obsidian 元数据 (不会影响 Hexo 解析) -->
<!--
创建时间: 2025-04-26-星期六 02:01
year: 2025
month: 04
week: 17
day: 26
-->

